<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>회원 상세 정보</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

<div th:replace="fragments/header :: header"></div>

<div class="container mt-5" style="max-width: 600px;">
    <h2 class="mb-4 text-center">회원 상세 정보</h2>

    <ul class="list-group mb-4">
        <li class="list-group-item"><strong>이름:</strong> <span th:text="${member.name}"></span></li>
        <li class="list-group-item"><strong>이메일:</strong> <span th:text="${member.email}"></span></li>
        <li class="list-group-item"><strong>전화번호:</strong> <span th:text="${member.phone}"></span></li>
        <li class="list-group-item"><strong>주소:</strong> <span th:text="${member.address}"></span></li>
        <li class="list-group-item">
            <strong>가입일:</strong>
            <span th:text="${#temporals.format(member.createdDate, 'yyyy-MM-dd HH:mm:ss')}"></span>
        </li>
        <li class="list-group-item">
            <strong>상태:</strong>
            <span th:if="${member.withdrawn}" class="text-danger fw-bold">탈퇴</span>
            <span th:if="${!member.withdrawn}" class="text-success fw-bold">이용 중</span>
        </li>
    </ul>

    <div class="d-flex gap-2 mb-4">
        <a th:href="@{'/members/edit/' + ${member.id}}" class="btn btn-primary">수정</a>

        <form th:if="${!member.withdrawn}" th:action="@{'/members/withdraw/' + ${member.id}}" method="post">
            <button type="submit" class="btn btn-warning">탈퇴 처리</button>
        </form>

        <form th:if="${member.withdrawn}" th:action="@{'/members/restore/' + ${member.id}}" method="post">
            <button type="submit" class="btn btn-success">탈퇴 복구</button>
        </form>

        <form th:if="${member.withdrawn}" th:action="@{'/members/delete/' + ${member.id}}" method="post"
              onsubmit="return confirm('정말로 완전 삭제하시겠습니까?')">
            <button type="submit" class="btn btn-danger">완전 삭제</button>
        </form>
    </div>

    <a th:href="@{/members}" class="btn btn-secondary">목록으로</a>
</div>

<div th:replace="fragments/footer :: footer" class="mt-5"></div>

</body>
</html>




